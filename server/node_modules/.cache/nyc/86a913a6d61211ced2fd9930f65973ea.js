var cov_1imxr2jsa4=function(){var path="/Users/nicholasmitchell/LoRaWAN_Web_App_1/server/src/policies/service_profile_policy.js",hash="15481ae5b4a243b6ceb3f4dbc47a74da34acb913",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/nicholasmitchell/LoRaWAN_Web_App_1/server/src/policies/service_profile_policy.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:26}},"1":{start:{line:2,column:21},end:{line:2,column:57}},"2":{start:{line:4,column:0},end:{line:145,column:1}},"3":{start:{line:6,column:19},end:{line:6,column:44}},"4":{start:{line:7,column:23},end:{line:18,column:9}},"5":{start:{line:19,column:33},end:{line:19,column:59}},"6":{start:{line:20,column:8},end:{line:79,column:9}},"7":{start:{line:21,column:12},end:{line:76,column:13}},"8":{start:{line:23,column:20},end:{line:23,column:56}},"9":{start:{line:24,column:20},end:{line:24,column:58}},"10":{start:{line:25,column:20},end:{line:25,column:125}},"11":{start:{line:26,column:20},end:{line:26,column:26}},"12":{start:{line:28,column:20},end:{line:28,column:45}},"13":{start:{line:29,column:20},end:{line:29,column:57}},"14":{start:{line:30,column:20},end:{line:30,column:115}},"15":{start:{line:31,column:20},end:{line:31,column:26}},"16":{start:{line:33,column:20},end:{line:33,column:53}},"17":{start:{line:34,column:20},end:{line:34,column:57}},"18":{start:{line:35,column:20},end:{line:35,column:135}},"19":{start:{line:36,column:20},end:{line:36,column:26}},"20":{start:{line:38,column:20},end:{line:38,column:51}},"21":{start:{line:39,column:20},end:{line:39,column:57}},"22":{start:{line:40,column:20},end:{line:40,column:126}},"23":{start:{line:41,column:20},end:{line:41,column:26}},"24":{start:{line:43,column:20},end:{line:43,column:64}},"25":{start:{line:44,column:20},end:{line:44,column:57}},"26":{start:{line:45,column:20},end:{line:45,column:140}},"27":{start:{line:46,column:20},end:{line:46,column:26}},"28":{start:{line:48,column:20},end:{line:48,column:63}},"29":{start:{line:49,column:20},end:{line:49,column:57}},"30":{start:{line:50,column:20},end:{line:50,column:139}},"31":{start:{line:51,column:20},end:{line:51,column:26}},"32":{start:{line:53,column:20},end:{line:53,column:56}},"33":{start:{line:54,column:20},end:{line:54,column:57}},"34":{start:{line:55,column:20},end:{line:55,column:131}},"35":{start:{line:56,column:20},end:{line:56,column:26}},"36":{start:{line:58,column:20},end:{line:58,column:63}},"37":{start:{line:59,column:20},end:{line:59,column:58}},"38":{start:{line:60,column:20},end:{line:60,column:132}},"39":{start:{line:61,column:20},end:{line:61,column:26}},"40":{start:{line:63,column:20},end:{line:63,column:42}},"41":{start:{line:64,column:20},end:{line:64,column:57}},"42":{start:{line:65,column:20},end:{line:65,column:122}},"43":{start:{line:66,column:20},end:{line:66,column:26}},"44":{start:{line:68,column:20},end:{line:68,column:42}},"45":{start:{line:69,column:20},end:{line:69,column:58}},"46":{start:{line:70,column:20},end:{line:70,column:122}},"47":{start:{line:71,column:20},end:{line:71,column:26}},"48":{start:{line:73,column:20},end:{line:73,column:64}},"49":{start:{line:74,column:20},end:{line:74,column:57}},"50":{start:{line:75,column:20},end:{line:75,column:116}},"51":{start:{line:78,column:12},end:{line:78,column:19}},"52":{start:{line:82,column:19},end:{line:82,column:44}},"53":{start:{line:83,column:23},end:{line:92,column:9}},"54":{start:{line:93,column:33},end:{line:93,column:59}},"55":{start:{line:94,column:8},end:{line:143,column:9}},"56":{start:{line:95,column:12},end:{line:140,column:13}},"57":{start:{line:97,column:20},end:{line:97,column:56}},"58":{start:{line:98,column:20},end:{line:98,column:58}},"59":{start:{line:99,column:20},end:{line:99,column:126}},"60":{start:{line:100,column:20},end:{line:100,column:26}},"61":{start:{line:102,column:20},end:{line:102,column:51}},"62":{start:{line:103,column:20},end:{line:103,column:57}},"63":{start:{line:104,column:20},end:{line:104,column:127}},"64":{start:{line:105,column:20},end:{line:105,column:26}},"65":{start:{line:107,column:20},end:{line:107,column:64}},"66":{start:{line:108,column:20},end:{line:108,column:57}},"67":{start:{line:109,column:20},end:{line:109,column:140}},"68":{start:{line:110,column:20},end:{line:110,column:26}},"69":{start:{line:112,column:20},end:{line:112,column:63}},"70":{start:{line:113,column:20},end:{line:113,column:57}},"71":{start:{line:114,column:20},end:{line:114,column:139}},"72":{start:{line:115,column:20},end:{line:115,column:26}},"73":{start:{line:117,column:20},end:{line:117,column:56}},"74":{start:{line:118,column:20},end:{line:118,column:57}},"75":{start:{line:119,column:20},end:{line:119,column:131}},"76":{start:{line:120,column:20},end:{line:120,column:26}},"77":{start:{line:122,column:20},end:{line:122,column:63}},"78":{start:{line:123,column:20},end:{line:123,column:58}},"79":{start:{line:124,column:20},end:{line:124,column:133}},"80":{start:{line:125,column:20},end:{line:125,column:26}},"81":{start:{line:127,column:20},end:{line:127,column:42}},"82":{start:{line:128,column:20},end:{line:128,column:57}},"83":{start:{line:129,column:20},end:{line:129,column:122}},"84":{start:{line:130,column:20},end:{line:130,column:26}},"85":{start:{line:132,column:20},end:{line:132,column:42}},"86":{start:{line:133,column:20},end:{line:133,column:58}},"87":{start:{line:134,column:20},end:{line:134,column:122}},"88":{start:{line:135,column:20},end:{line:135,column:26}},"89":{start:{line:137,column:20},end:{line:137,column:64}},"90":{start:{line:138,column:20},end:{line:138,column:57}},"91":{start:{line:139,column:20},end:{line:139,column:117}},"92":{start:{line:142,column:12},end:{line:142,column:19}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:27},end:{line:80,column:5}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:27},end:{line:144,column:5}},line:81}},branchMap:{"0":{loc:{start:{line:20,column:8},end:{line:79,column:9}},type:"if",locations:[{start:{line:20,column:8},end:{line:79,column:9}},{start:{line:20,column:8},end:{line:79,column:9}}],line:20},"1":{loc:{start:{line:21,column:12},end:{line:76,column:13}},type:"switch",locations:[{start:{line:22,column:16},end:{line:26,column:26}},{start:{line:27,column:16},end:{line:31,column:26}},{start:{line:32,column:16},end:{line:36,column:26}},{start:{line:37,column:16},end:{line:41,column:26}},{start:{line:42,column:16},end:{line:46,column:26}},{start:{line:47,column:16},end:{line:51,column:26}},{start:{line:52,column:16},end:{line:56,column:26}},{start:{line:57,column:16},end:{line:61,column:26}},{start:{line:62,column:16},end:{line:66,column:26}},{start:{line:67,column:16},end:{line:71,column:26}},{start:{line:72,column:16},end:{line:75,column:116}}],line:21},"2":{loc:{start:{line:94,column:8},end:{line:143,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:143,column:9}},{start:{line:94,column:8},end:{line:143,column:9}}],line:94},"3":{loc:{start:{line:95,column:12},end:{line:140,column:13}},type:"switch",locations:[{start:{line:96,column:16},end:{line:100,column:26}},{start:{line:101,column:16},end:{line:105,column:26}},{start:{line:106,column:16},end:{line:110,column:26}},{start:{line:111,column:16},end:{line:115,column:26}},{start:{line:116,column:16},end:{line:120,column:26}},{start:{line:121,column:16},end:{line:125,column:26}},{start:{line:126,column:16},end:{line:130,column:26}},{start:{line:131,column:16},end:{line:135,column:26}},{start:{line:136,column:16},end:{line:139,column:117}}],line:95}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0,0,0,0,0,0,0,0,0,0],"2":[0,0],"3":[0,0,0,0,0,0,0,0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const Joi=(cov_1imxr2jsa4.s[0]++,require('joi'));const error_logger=(cov_1imxr2jsa4.s[1]++,require("../controllers/error_logs"));cov_1imxr2jsa4.s[2]++;module.exports={create(req,res,next){cov_1imxr2jsa4.f[0]++;let data=(cov_1imxr2jsa4.s[3]++,JSON.parse(req.body.data));const schema=(cov_1imxr2jsa4.s[4]++,{service_profile_name:Joi.string().required().max(80),network_id:Joi.number().required(),network_server_id:Joi.number().required(),add_gw_metadata:Joi.boolean().insensitive(true),report_device_status_battery:Joi.boolean().insensitive(true),report_device_status_margin:Joi.boolean().insensitive(true),network_geo_location:Joi.boolean().insensitive(true),device_status_req_frequency:Joi.number().required(),dr_min:Joi.number().required(),dr_max:Joi.number().required()});const{error,value}=(cov_1imxr2jsa4.s[5]++,Joi.validate(data,schema));cov_1imxr2jsa4.s[6]++;if(error){cov_1imxr2jsa4.b[0][0]++;cov_1imxr2jsa4.s[7]++;switch(error.details[0].context.key){case'service_profile_name':cov_1imxr2jsa4.b[1][0]++;cov_1imxr2jsa4.s[8]++;console.log("service_profile_name");cov_1imxr2jsa4.s[9]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[10]++;res.status(422).send({error:'Invalid Service Profile Name',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[11]++;break;case'network_id':cov_1imxr2jsa4.b[1][1]++;cov_1imxr2jsa4.s[12]++;console.log('network_id');cov_1imxr2jsa4.s[13]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[14]++;res.status(422).send({error:'Invalid Network ID',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[15]++;break;case'network_server_id':cov_1imxr2jsa4.b[1][2]++;cov_1imxr2jsa4.s[16]++;console.log("network_server_id");cov_1imxr2jsa4.s[17]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[18]++;res.status(422).send({error:'Invalid Network Server ID Description',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[19]++;break;case'add_gw_metadata':cov_1imxr2jsa4.b[1][3]++;cov_1imxr2jsa4.s[20]++;console.log("add_gw_metadata");cov_1imxr2jsa4.s[21]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[22]++;res.status(422).send({error:'Invalid Add GW Metadata value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[23]++;break;case'report_device_status_battery':cov_1imxr2jsa4.b[1][4]++;cov_1imxr2jsa4.s[24]++;console.log("report_device_status_battery");cov_1imxr2jsa4.s[25]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[26]++;res.status(422).send({error:'Invalid Report device status battery value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[27]++;break;case'report_device_status_margin':cov_1imxr2jsa4.b[1][5]++;cov_1imxr2jsa4.s[28]++;console.log("report_device_status_margin");cov_1imxr2jsa4.s[29]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[30]++;res.status(422).send({error:'Invalid Report device status margin value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[31]++;break;case'network_geo_location':cov_1imxr2jsa4.b[1][6]++;cov_1imxr2jsa4.s[32]++;console.log("network_geo_location");cov_1imxr2jsa4.s[33]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[34]++;res.status(422).send({error:'Invalid Network Geolocation value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[35]++;break;case'device_status_req_frequency':cov_1imxr2jsa4.b[1][7]++;cov_1imxr2jsa4.s[36]++;console.log("device_status_req_frequency");cov_1imxr2jsa4.s[37]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[38]++;res.status(422).send({error:'Invalid Device Status Req Frequency',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[39]++;break;case'dr_min':cov_1imxr2jsa4.b[1][8]++;cov_1imxr2jsa4.s[40]++;console.log("dr_min");cov_1imxr2jsa4.s[41]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[42]++;res.status(422).send({error:'Invalid Minimum DR value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[43]++;break;case'dr_max':cov_1imxr2jsa4.b[1][9]++;cov_1imxr2jsa4.s[44]++;console.log("dr_max");cov_1imxr2jsa4.s[45]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[46]++;res.status(422).send({error:'Invalid Max DR Frequency',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[47]++;break;default:cov_1imxr2jsa4.b[1][10]++;cov_1imxr2jsa4.s[48]++;console.log('Error in service profile form');cov_1imxr2jsa4.s[49]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[50]++;res.status(422).send({error:'Invalid Information',message:'Error in form.',type:'error'});}}else{cov_1imxr2jsa4.b[0][1]++;cov_1imxr2jsa4.s[51]++;next();}},update(req,res,next){cov_1imxr2jsa4.f[1]++;let data=(cov_1imxr2jsa4.s[52]++,JSON.parse(req.body.data));const schema=(cov_1imxr2jsa4.s[53]++,{service_profile_name:Joi.string().required().max(80),add_gw_metadata:Joi.boolean().insensitive(true),report_device_status_battery:Joi.boolean().insensitive(true),report_device_status_margin:Joi.boolean().insensitive(true),network_geo_location:Joi.boolean().insensitive(true),device_status_req_frequency:Joi.number().required(),dr_min:Joi.number().required(),dr_max:Joi.number().required()});const{error,value}=(cov_1imxr2jsa4.s[54]++,Joi.validate(data,schema));cov_1imxr2jsa4.s[55]++;if(error){cov_1imxr2jsa4.b[2][0]++;cov_1imxr2jsa4.s[56]++;switch(error.details[0].context.key){case'service_profile_name':cov_1imxr2jsa4.b[3][0]++;cov_1imxr2jsa4.s[57]++;console.log("service_profile_name");cov_1imxr2jsa4.s[58]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[59]++;res.status(422).send({error:'Invalid Service Profile Name',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[60]++;break;case'add_gw_metadata':cov_1imxr2jsa4.b[3][1]++;cov_1imxr2jsa4.s[61]++;console.log("add_gw_metadata");cov_1imxr2jsa4.s[62]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[63]++;res.status(422).send({error:'Invalid Add GW Metadata value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[64]++;break;case'report_device_status_battery':cov_1imxr2jsa4.b[3][2]++;cov_1imxr2jsa4.s[65]++;console.log("report_device_status_battery");cov_1imxr2jsa4.s[66]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[67]++;res.status(422).send({error:'Invalid Report device status battery value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[68]++;break;case'report_device_status_margin':cov_1imxr2jsa4.b[3][3]++;cov_1imxr2jsa4.s[69]++;console.log("report_device_status_margin");cov_1imxr2jsa4.s[70]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[71]++;res.status(422).send({error:'Invalid Report device status margin value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[72]++;break;case'network_geo_location':cov_1imxr2jsa4.b[3][4]++;cov_1imxr2jsa4.s[73]++;console.log("network_geo_location");cov_1imxr2jsa4.s[74]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[75]++;res.status(422).send({error:'Invalid Network Geolocation value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[76]++;break;case'device_status_req_frequency':cov_1imxr2jsa4.b[3][5]++;cov_1imxr2jsa4.s[77]++;console.log("device_status_req_frequency");cov_1imxr2jsa4.s[78]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[79]++;res.status(422).send({error:'Invalid Device Status Req Frequency',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[80]++;break;case'dr_min':cov_1imxr2jsa4.b[3][6]++;cov_1imxr2jsa4.s[81]++;console.log("dr_min");cov_1imxr2jsa4.s[82]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[83]++;res.status(422).send({error:'Invalid Minimum DR value',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[84]++;break;case'dr_max':cov_1imxr2jsa4.b[3][7]++;cov_1imxr2jsa4.s[85]++;console.log("dr_max");cov_1imxr2jsa4.s[86]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[87]++;res.status(422).send({error:'Invalid Max DR Frequency',message:'Error in form.',type:'error'});cov_1imxr2jsa4.s[88]++;break;default:cov_1imxr2jsa4.b[3][8]++;cov_1imxr2jsa4.s[89]++;console.log('Error in service profile form');cov_1imxr2jsa4.s[90]++;error_logger.error_logger(req,error);cov_1imxr2jsa4.s[91]++;res.status(422).send({error:'Invalid Information',message:'Error in form.',type:'error'});}}else{cov_1imxr2jsa4.b[2][1]++;cov_1imxr2jsa4.s[92]++;next();}}};